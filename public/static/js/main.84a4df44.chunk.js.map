{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","utils/Api.js","utils/constants.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","id","link","name","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","i","key","Footer","PopupWithForm","isOpened","title","children","onClose","onSubmit","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","method","noValidate","defaultValue","onChange","target","value","required","minLength","maxLength","pattern","AddPlacePopup","inputName","useRef","inputLink","current","ref","placeholder","EditAvatarPopup","onUpdateAvatar","avatarRef","api","baseUrl","headers","this","_baseUrl","_headers","response","ok","json","Promise","reject","status","fetch","then","_returnResponse","res","mainId","data","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setAddPlacePopup","isEditAvatarPopupOpen","setEditAvatarPopup","selectedCard","setSelectedCard","setCurrentUser","setCards","image","setImage","closeAllPopups","all","getUserInfo","getInitialCards","user","catch","err","console","log","Provider","props","likeCard","newCard","newCards","c","deleteCard","filter","userData","changeUserInfo","userInfo","avatarData","changeUserAvatar","newAvatar","cardData","addCard","btnText","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.84a4df44.chunk.js","sourcesContent":["import React from 'react';\nimport logoPath from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logoPath} alt=\"Логотип проекта 'Место'\" />\n    </header>\n  );\n}\n\nexport default Header","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(card => card._id === currentUser._id);\n\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n    return (\n      <div id=\"card\">\n        <div className=\"element\">\n          <img\n            src={card.link}\n            alt={card.name}\n            className=\"element__image\"\n            onClick={handleClick}\n            />\n          <div className=\"element__description\">\n            <h2 className=\"element__title\">{card.name}</h2>\n            <div className=\"element__like-container\">\n              <button type=\"submit\" onClick={handleLikeClick} className={`element__like-button ${isLiked && 'element__like-button_active'}`}></button>\n              <span className=\"element__like-counter\">{card.likes.length}</span>\n            </div>\n          </div>\n          <button type=\"submit\" onClick={handleDeleteClick} className={`element__delete-button ${isOwn && 'element__delete-button_visible'}`}></button>\n        </div>\n      </div>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__info\">\n          <div className=\"profile__avatar-background\" onClick={onEditAvatar}>\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt='' />\n          </div>\n          <div className=\"profile__data\">\n            <div className=\"profile__wrap\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n            </div>\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card, i) =>\n          <Card key={card._id} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} card={card}/>\n        )}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n      <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy;&nbsp;2020 Mesto Russia</p>\n      </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({ name, isOpened, title, children, onClose, onSubmit }) {\n  return (\n      <section className={`popup popup_type_${name} ${isOpened && \"popup_is-opened\"}`}>\n        <div className=\"popup__content\">\n          <button className=\"popup__close-button popup__close-button_type_edit-profile\" onClick={onClose} type=\"button\"></button>\n          <h3 className=\"popup__title\">{title}</h3>\n            {children}\n            <button\n              className=\"popup__button popup__button_type_save\"\n              type=\"submit\"\n              onClick={onSubmit}>Сохранить</button>\n        </div>\n      </section>\n  )\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nfunction ImagePopup({ isOpened, card, onClose }) {\n   return (\n      <section className={`popup popup_type_zoom-image ${isOpened && \"popup_is-opened\"}`}>\n        <figure className=\"popup__image-container\">\n          <button className=\"popup__close-button popup__close-button_type_zoom-image\" type=\"button\" onClick={onClose}></button>\n          <img src={card.link} alt={card.name} className=\"popup__zoom-image\" />\n          <figcaption className=\"popup__description\">{card.name}</figcaption>\n        </figure>\n      </section>\n   );\n}\n\nexport default ImagePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nconst EditProfilePopup = ({isOpened, onClose, onUpdateUser}) => {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const handleNameChange = e => setName(e.target.value)\n  const handleAboutChange = e => setDescription(e.target.value);\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit-profile\"\n      isOpened={isOpened}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      children={\n        <form className=\"popup__form popup__form_type_edit-profile\"\n              name=\"form\"\n              method=\"POST\"\n              noValidate>\n          <input className=\"popup__input popup__input_type_name\"\n                 defaultValue={name}\n                 onChange={handleNameChange}\n                 name=\"name\"\n                 type=\"text\"\n                 id=\"name-input\"\n                 required\n                 minLength=\"2\"\n                 maxLength=\"40\"\n                 pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\-]+[^\\s\\-]+\" />\n          <span className='popup__input-error' id='name-input-error'></span>\n          <input className=\"popup__input popup__input_type_description\"\n                 defaultValue={description}\n                 onChange={handleAboutChange}\n                 name=\"description\"\n                 type=\"text\"\n                 id=\"description-input\"\n                 required minLength=\"2\"\n                 maxLength=\"200\" />\n          <span className='popup__input-error' id='description-input-error'></span>\n        </form>\n      } />\n  );\n};\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpened, onClose, onAddPlace}) {\n  const inputName = React.useRef();\n  const inputLink = React.useRef();\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: inputName.current.value,\n      link: inputLink.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm title=\"Новое место\"\n                   name=\"add-new-card\"\n                   isOpened={isOpened}\n                   onClose={onClose}\n                   onSubmit={handleAddPlaceSubmit}\n                   children={\n                     <form className=\"popup__form popup__form_type_add-card\"\n                           name=\"form\"\n                           method=\"POST\"\n                           noValidate>\n                       <input className=\"popup__input popup__input_type_name\"\n                              ref={inputName}\n                              defaultValue={''}\n                              name=\"name\"\n                              type=\"text\"\n                              id=\"card-name-input\"\n                              required\n                              minLength=\"1\"\n                              maxLength=\"30\"\n                              placeholder=\"Название места\"/>\n                       <span className='popup__input-error' id='card-name-input-error'></span>\n                       <input className=\"popup__input popup__input_type_description\"\n                              ref={inputLink}\n                              defaultValue={''}\n                              type=\"url\"\n                              name=\"link\"\n                              id=\"card-url-input\"\n                              required placeholder=\"Ссылка на картинку\"\n                              pattern=\".+\\.(jpg|png)\"/>\n                       <span className='popup__input-error' id='card-url-input-error'></span>\n                     </form>\n\n                   } />\n  )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup({ isOpened, onClose, onUpdateAvatar }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const avatarRef = React.useRef();\n\n  React.useEffect(() => {\n    avatarRef.current.value = currentUser.avatar;\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n        avatar: avatarRef.current.value\n      }\n    );\n  }\n\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar-edit\"\n      isOpened={isOpened}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      children={\n        <form className=\"popup__form popup__form_type_edit-avatar\"\n              name=\"form\"\n              method=\"POST\"\n              noValidate>\n          <input className=\"popup__input popup__input_type_description\"\n                 ref={avatarRef}\n                 type=\"url\"\n                 name=\"link\"\n                 id=\"avatar-url-input\"\n                 required\n                 placeholder=\"Ссылка на картинку\"\n                 pattern=\".+\\.(jpg|png)\"/>\n          <span className='popup__input-error' id='avatar-url-input-error'></span>\n        </form>\n      } />\n  )\n}\n\nexport default EditAvatarPopup;","import { baseUrl, headers } from './constants';\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _returnResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Произошла ошибка: ${response.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    })\n      .then(this._returnResponse)\n      .then((res) => {\n        this.mainId = res._id;\n        return res;\n      });\n  }\n\n  changeUserInfo(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._returnResponse);\n  }\n\n  changeUserAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._returnResponse);\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._returnResponse);\n  }\n\n  likeCard(cardId, isLiked) {\n    let method;\n    isLiked ? (method = 'DELETE') : (method = 'PUT');\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n      method: method,\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n}\n\nexport const api = new Api({ baseUrl, headers });","/*export const popupConfig = {\n  popupSelector: '.popup',\n  formSelector: '.popup__form',\n  popupEditProfileSelector: '.popup_type_edit-profile',\n  popupCreateCardSelector: '.popup_type_add-new-card',\n  popupZoomedImgSelector: '.popup_type_zoom-image',\n  popupImgSelector: '.popup__zoom-image',\n  popupFigcaptionSelector: '.popup__description',\n  inputSelector: '.popup__input',\n  inputNameSelector: '.popup__input_type_name',\n  inputDescriptionSelector: '.popup__input_type_description',\n  submitButtonSelector: '.popup__button',\n};\n\nexport const cardConfig = {\n  cardSelector: '#card',\n  cardsContainerSelector: '.elements',\n  cardElementSelector: '.element',\n  cardDeleteSelector: '.element__delete-button',\n  cardLikeSelector: '.element__like-button',\n  cardImgSelector: '.element__image',\n  cardTitleSelector: '.element__title',\n};\n\nexport const validationConfig = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  errorSelector: '.popup__input-error_active',\n  submitButtonSelector: '.popup__button',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__input-error_active',\n};\n\nexport const profileConfig = {\n  nameSelector: '.profile__name',\n  descriptionSelector: '.profile__description',\n  editButtonSelector: '.profile__edit-button',\n  addButtonSelector: '.profile__add-button',\n};\n\nexport const editProfilePopup = document.querySelector(\n  popupConfig.popupEditProfileSelector\n);\nexport const createCardPopup = document.querySelector(\n  popupConfig.popupCreateCardSelector\n);\nexport const editAvatarPopup = document.querySelector(\n  '.popup_type_avatar-edit'\n);\nexport const editButton = document.querySelector(\n  profileConfig.editButtonSelector\n);\nexport const addButton = document.querySelector(\n  profileConfig.addButtonSelector\n);\nexport const popupForms = Array.from(\n  document.querySelectorAll(popupConfig.formSelector)\n);\n\nexport const profileName = editProfilePopup.querySelector(\n  popupConfig.inputNameSelector\n);\nexport const profileDescription = editProfilePopup.querySelector(\n  popupConfig.inputDescriptionSelector\n);\nexport const addCardName = document.querySelector(\n  popupConfig.inputNameSelector\n);\nexport const addCardUrl = createCardPopup.querySelector(\n  popupConfig.inputDescriptionSelector\n);\nexport const avatar = document.querySelector('.profile__avatar-background');\nexport const changeAvatarForm = editAvatarPopup.querySelector('.popup__form');\n\n*/\n//for api\n\nexport const baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-12/';\nexport const headers = {\n  authorization: 'd6770652-b28e-4007-834e-116536b370da',\n  'Content-Type': 'application/json',\n};\n","import React from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [image, setImage] = React.useState({\n    link: '',\n    name: ''\n  });\n\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n\n\n  function handleLikeCard(card) {\n    const isLiked = card.likes.some(owner => owner._id === currentUser._id);\n    api.likeCard(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter(c => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateUser(userData) {\n    api.changeUserInfo(userData)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleAddPlace(cardData) {\n    api.addCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateAvatar(avatarData) {\n    api.changeUserAvatar(avatarData)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups()\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopup(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopup(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopup(true);\n  }\n\n  function handleCardClick(props) {\n    setSelectedCard(true);\n    setImage({link: props.link, name: props.name});\n  }\n\n  function closeAllPopups () {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddPlacePopup(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleLikeCard}\n              onCardDelete={handleCardDelete}\n              cards={cards}\n        />\n        <EditProfilePopup\n          onClose={closeAllPopups}\n          isOpened={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          onClose={closeAllPopups}\n          isOpened={isEditAvatarPopupOpen}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          onClose={closeAllPopups}\n          isOpened={isAddPlacePopupOpen}\n          onAddPlace={handleAddPlace}\n        />\n        <PopupWithForm title=\"Вы уверены?\" name=\"delete-card\" btnText={'Да'} />\n        <ImagePopup card={image}\n                    onClose={closeAllPopups}\n                    isOpened={selectedCard} />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";"],"sourceRoot":""}